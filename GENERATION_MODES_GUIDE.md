# 生成模式功能使用指南

## 🎯 功能概述

系统现在支持两种报告生成模式：**融合模式**和**区分模式**，用户可以根据需要选择合适的生成方式。

## 📋 生成模式说明

### 1. 融合模式 (Fusion Mode)
- **图标**: 🗂️
- **特点**: 将所有上传的资料文件内容融合在一起，生成统一的报告
- **适用场景**: 
  - 资料内容相似或互补
  - 希望生成连贯、统一的报告
  - 资料数量较少（1-3个文件）
- **生成逻辑**: 
  - 将所有文档内容分段入库
  - 基于查询检索最相关的内容片段
  - 生成统一的报告内容

### 2. 区分模式 (Separate Mode)
- **图标**: 📄
- **特点**: 为每个文件分别生成内容段落，然后整合成完整报告
- **适用场景**: 
  - 资料内容差异较大
  - 希望保持各文件的特色内容
  - 资料数量较多（3个以上文件）
  - 需要突出不同文件的核心信息
- **生成逻辑**: 
  - 为每个文件分别生成2-3个段落
  - 保持各文件内容的特色和重点
  - 最后整合成结构完整的报告

## 🚀 使用方法

### 1. 选择生成模式
在生成报告区域，您会看到两个选项：
- **融合模式**: 将所有资料融合生成统一报告
- **区分模式**: 按不同文件分别生成段落后整合

### 2. 上传文件
- 上传模板文件（封面模板、正文模板）
- 上传资料文件（支持 .md, .markdown, .doc, .docx, .txt 等）

### 3. 填写基本信息
- 填写学生信息、项目信息等
- 可选择启用高级Prompt自定义生成要求

### 4. 生成报告
- 选择生成模式
- 点击"生成报告"按钮
- 系统会根据选择的模式生成相应的报告

## 📊 模式对比

| 特性 | 融合模式 | 区分模式 |
|------|----------|----------|
| 内容处理 | 统一融合 | 分别处理后整合 |
| 文件特色 | 可能模糊 | 保持特色 |
| 生成速度 | 较快 | 较慢 |
| 内容连贯性 | 高 | 中等 |
| 适用文件数 | 1-3个 | 3个以上 |
| 内容重复 | 较少 | 可能较多 |

## 💡 使用建议

### 选择融合模式的情况：
1. **资料内容相似**: 多个文件讨论相同或相关主题
2. **内容互补**: 不同文件提供不同角度的信息
3. **追求连贯性**: 希望生成逻辑流畅的报告
4. **文件较少**: 只有1-3个资料文件

### 选择区分模式的情况：
1. **内容差异大**: 不同文件讨论不同主题或技术
2. **保持特色**: 希望突出各文件的独特内容
3. **文件较多**: 有3个以上的资料文件
4. **详细分析**: 需要对每个文件进行深入分析

## 🔧 技术实现

### 融合模式流程：
```
上传文件 → 内容分段入库 → 检索相关内容 → 生成统一报告
```

### 区分模式流程：
```
上传文件 → 分别处理每个文件 → 为每个文件生成段落 → 整合成完整报告
```

## 📝 示例场景

### 场景1：机器学习实训报告
- **文件**: 机器学习基础.md, 深度学习实践.docx, 项目总结.txt
- **推荐模式**: 区分模式
- **原因**: 三个文件分别讨论基础理论、实践应用和项目总结，内容差异较大

### 场景2：数据分析报告
- **文件**: 数据预处理.md, 统计分析.md
- **推荐模式**: 融合模式
- **原因**: 两个文件都是关于数据分析的不同阶段，内容互补

## ⚠️ 注意事项

1. **文件格式**: 只支持文本文件（.md, .txt）和Word文档（.doc, .docx）
2. **文件大小**: 建议单个文件不超过10MB
3. **生成时间**: 区分模式需要更多时间，请耐心等待
4. **内容质量**: 生成质量取决于上传资料的内容质量和相关性

## 🎨 界面展示

生成模式选择器位于生成报告区域的顶部，采用单选按钮形式，具有以下特点：
- 清晰的图标和说明文字
- 悬停效果和选中状态
- 响应式设计，适配不同屏幕尺寸

## 🔄 模式切换

用户可以随时切换生成模式，系统会记住当前选择。切换模式不会影响已上传的文件，只会改变报告生成的方式。 