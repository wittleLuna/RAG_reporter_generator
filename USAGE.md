# RAG实训报告生成系统使用说明

## 快速开始

### 1. 系统启动

#### 开发环境
```bash
# 安装依赖
pip install -r requirements.txt

# 启动服务
python start.py
```

#### 生产环境
```bash
# 运行部署脚本
python deploy.py

# 启动服务
sudo systemctl start rag-system
```

### 2. 访问系统
- 系统地址: http://localhost:8000
- API文档: http://localhost:8000/docs

## 详细使用指南

### 用户账户管理

#### 注册新账户
1. 访问系统首页
2. 点击"立即注册"按钮
3. 填写注册信息：
   - 用户名：用于登录的唯一标识
   - 邮箱：用于接收通知
   - 密码：至少8位，包含大小写字母和数字
   - 姓名：真实姓名
   - 学号：学生学号
   - 班级：所在班级
4. 点击"注册"完成账户创建

#### 登录系统
1. 在登录页面输入用户名和密码
2. 点击"登录"按钮
3. 登录成功后自动跳转到主页面

#### 个人信息管理
1. 点击右上角"个人信息"按钮
2. 修改个人资料
3. 点击"保存信息"按钮
4. 系统会自动更新显示的信息

### 模板管理

#### 创建模板
1. 点击"模板管理"按钮
2. 在"创建新模板"区域填写信息：
   - 模板名称：便于识别的名称
   - 模板类型：选择封面模板或正文模板
   - 选择文件：上传Word格式文件
3. 点击"创建模板"按钮

#### 使用模板
1. 在模板管理页面查看可用模板
2. 点击"使用模板"按钮
3. 系统会自动应用模板设置

#### 删除模板
1. 在模板管理页面找到要删除的模板
2. 点击"删除"按钮
3. 确认删除操作

### 报告生成

#### 基本信息填写
系统会自动填充用户信息，您需要补充：
- 课程：实训课程名称
- 导师：指导教师姓名
- 教材：使用的教材名称
- 实训室：实训地点
- 完成日期：实训完成日期
- 设计要求：实训的具体要求（可选）
- 所用知识与技术：涉及的技术点（可选）
- 完成情况：实训完成情况（可选）
- 自我说明：个人总结（可选）

#### 模板文件上传

##### 封面模板
- 格式：Word文档（.doc/.docx）
- 必需占位符：
  - `{{name}}` - 学生姓名
  - `{{student_id}}` - 学号
  - `{{project_name}}` - 课程名称
- 可选占位符：
  - `{{class_name}}` - 班级
  - `{{instructor}}` - 导师

##### 正文模板
- 格式：Word文档（.doc/.docx）
- 必需占位符：
  - `{{report_body}}` - 报告正文内容
- 可选占位符：
  - `{{name}}` - 学生姓名
  - `{{student_id}}` - 学号
  - `{{class_name}}` - 班级
  - `{{instructor}}` - 导师
  - `{{project_name}}` - 课程名称

#### 资料文件上传
支持的文件格式：
- 文档：.md, .markdown, .doc, .docx, .pdf
- 图片：.jpg, .jpeg, .png, .gif, .bmp

上传方式：
1. 拖拽文件到上传区域
2. 点击上传区域选择文件
3. 支持多文件同时上传

#### 生成模式选择

##### 融合模式
- 特点：将所有资料融合生成统一报告
- 适用：资料内容相关性强，需要统一处理
- 优势：生成速度快，内容连贯性好

##### 区分模式
- 特点：按不同文件分别生成段落后整合
- 适用：资料内容差异较大，需要分别处理
- 优势：内容更详细，结构更清晰

#### 页面控制设置

##### 目标页数
- 自动生成：系统根据内容自动确定页数
- 固定页数：选择2-10页或手动输入
- 建议：根据实训内容复杂度选择合适的页数

##### 多轮补全
- 功能：自动扩写至目标页数
- 适用：需要精确控制页数的情况
- 注意：启用后会增加生成时间

#### 高级设置

##### 高级Prompt
- 功能：自定义AI生成提示词
- 使用：勾选后输入详细的生成要求
- 建议：有特殊格式要求时使用

#### 生成报告
1. 确认所有信息填写完整
2. 点击"生成报告"按钮
3. 等待系统处理（显示进度条）
4. 生成完成后下载报告文件

## 高级功能

### 批量处理
1. 准备多个实训项目的资料
2. 使用模板管理功能创建通用模板
3. 批量生成多个报告

### 模板优化
1. 分析生成的报告质量
2. 调整模板内容和格式
3. 重新创建优化后的模板

### 数据备份
1. 定期运行备份脚本：`./backup.sh`
2. 备份文件存储在 `backups/` 目录
3. 自动清理7天前的备份文件

## 故障排除

### 常见问题

#### 登录问题
- 检查用户名和密码是否正确
- 确认账户是否已注册
- 清除浏览器缓存后重试

#### 文件上传失败
- 检查文件格式是否支持
- 确认文件大小不超过50MB
- 检查网络连接是否正常

#### 报告生成失败
- 检查API密钥配置是否正确
- 确认网络连接稳定
- 查看日志文件获取详细错误信息

#### 模板应用失败
- 检查模板文件格式是否为Word
- 确认模板包含必要的占位符
- 验证模板文件是否损坏

### 性能优化

#### 系统性能
- 定期清理临时文件
- 监控磁盘空间使用情况
- 优化数据库查询性能

#### 生成速度
- 选择合适的生成模式
- 控制上传文件大小
- 避免同时处理多个任务

## 最佳实践

### 模板设计
1. 使用清晰的占位符命名
2. 保持模板格式简洁
3. 测试模板在不同内容下的效果

### 资料准备
1. 整理相关资料文件
2. 确保文件格式正确
3. 删除无关内容

### 报告生成
1. 选择合适的生成模式
2. 设置合理的页数目标
3. 根据需要使用高级功能

### 质量控制
1. 检查生成报告的内容质量
2. 验证格式是否符合要求
3. 及时调整模板和设置

## 技术支持

### 获取帮助
- 查看系统日志文件
- 参考API文档
- 联系技术支持团队

### 反馈建议
- 报告系统问题
- 提出功能改进建议
- 分享使用经验 